{"ast":null,"code":"import _classCallCheck from\"C:/Users/79267/Desktop/praktikum/dev/movies-explorer-frontend-no-api/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/Users/79267/Desktop/praktikum/dev/movies-explorer-frontend-no-api/node_modules/@babel/runtime/helpers/esm/createClass.js\";var MoviesApi=/*#__PURE__*/function(){function MoviesApi(data){_classCallCheck(this,MoviesApi);this.url=data.url;this.headers=data.headers;}_createClass(MoviesApi,[{key:\"_request\",value:function _request(url,options){return fetch(url,options).then(this._checkResponse);}},{key:\"_checkResponse\",value:function _checkResponse(res){if(res.ok){return res.json();}return Promise.reject(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430: \".concat(res.status));}},{key:\"getMovies\",value:function getMovies(){return this._request(\"\".concat(this.url,\"/beatfilm-movies\"),{headers:this.headers});}}]);return MoviesApi;}();export{MoviesApi as default};export var moviesApi=new MoviesApi({url:'https://api.nomoreparties.co',headers:{'Content-Type':'application/json'},credentials:'include'});","map":{"version":3,"names":["MoviesApi","data","_classCallCheck","url","headers","_createClass","key","value","_request","options","fetch","then","_checkResponse","res","ok","json","Promise","reject","concat","status","getMovies","default","moviesApi","credentials"],"sources":["C:/Users/79267/desktop/praktikum/dev/movies-explorer-frontend-no-api/src/utils/MoviesApi.js"],"sourcesContent":["export default class MoviesApi {\r\n    constructor(data) {\r\n        this.url = data.url;\r\n        this.headers = data.headers;\r\n    }\r\n\r\n    _request(url, options) {\r\n        return fetch(url, options).then(this._checkResponse)\r\n    }\r\n\r\n    _checkResponse(res) {\r\n        if (res.ok) {\r\n            return res.json()\r\n        }\r\n        return Promise.reject(`Ошибка: ${res.status}`);\r\n    }\r\n\r\n    getMovies() {\r\n        return this._request(`${this.url}/beatfilm-movies`, {\r\n            headers: this.headers,\r\n        })\r\n    }\r\n\r\n}\r\n\r\nexport const moviesApi = new MoviesApi({\r\n    url: 'https://api.nomoreparties.co',\r\n    headers: {\r\n        'Content-Type': 'application/json',\r\n    },\r\n    credentials: 'include',\r\n})"],"mappings":"qTAAqB,CAAAA,SAAS,yBAC1B,SAAAA,UAAYC,IAAI,CAAE,CAAAC,eAAA,MAAAF,SAAA,EACd,IAAI,CAACG,GAAG,CAAGF,IAAI,CAACE,GAAG,CACnB,IAAI,CAACC,OAAO,CAAGH,IAAI,CAACG,OAAO,CAC/B,CAACC,YAAA,CAAAL,SAAA,GAAAM,GAAA,YAAAC,KAAA,CAED,SAAAC,SAASL,GAAG,CAAEM,OAAO,CAAE,CACnB,MAAO,CAAAC,KAAK,CAACP,GAAG,CAAEM,OAAO,CAAC,CAACE,IAAI,CAAC,IAAI,CAACC,cAAc,CAAC,CACxD,CAAC,GAAAN,GAAA,kBAAAC,KAAA,CAED,SAAAK,eAAeC,GAAG,CAAE,CAChB,GAAIA,GAAG,CAACC,EAAE,CAAE,CACR,MAAO,CAAAD,GAAG,CAACE,IAAI,CAAC,CAAC,CACrB,CACA,MAAO,CAAAC,OAAO,CAACC,MAAM,0CAAAC,MAAA,CAAYL,GAAG,CAACM,MAAM,CAAE,CAAC,CAClD,CAAC,GAAAb,GAAA,aAAAC,KAAA,CAED,SAAAa,UAAA,CAAY,CACR,MAAO,KAAI,CAACZ,QAAQ,IAAAU,MAAA,CAAI,IAAI,CAACf,GAAG,qBAAoB,CAChDC,OAAO,CAAE,IAAI,CAACA,OAClB,CAAC,CAAC,CACN,CAAC,WAAAJ,SAAA,YArBgBA,SAAS,IAAAqB,OAAA,EAyB9B,MAAO,IAAM,CAAAC,SAAS,CAAG,GAAI,CAAAtB,SAAS,CAAC,CACnCG,GAAG,CAAE,8BAA8B,CACnCC,OAAO,CAAE,CACL,cAAc,CAAE,kBACpB,CAAC,CACDmB,WAAW,CAAE,SACjB,CAAC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}