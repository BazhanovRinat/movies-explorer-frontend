{"ast":null,"code":"import React,{useState,useEffect}from'react';import useForm from\"../../hooks/useForm\";import{useLocation}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function SearchForm(_ref){var findMovie=_ref.findMovie,isShortMovies=_ref.isShortMovies,handleCheckboxChange=_ref.handleCheckboxChange;var _useForm=useForm({searchForm:''}),values=_useForm.values,handleChange=_useForm.handleChange,setValues=_useForm.setValues;var location=useLocation();useEffect(function(){var SearchFormValueData=localStorage.getItem('searchFormValue');if(SearchFormValueData&&location.pathname!=='/saved-movies'){setValues({searchForm:SearchFormValueData});}},[location]);function handleSubmit(e){e.preventDefault();if(values.searchForm===''){console.log('Введите запрос');}else{if(location.pathname!=='/saved-movies'){localStorage.setItem('searchFormValue',values.searchForm);}findMovie(values.searchForm);}}return/*#__PURE__*/_jsxs(\"div\",{className:\"searchForm\",children:[/*#__PURE__*/_jsxs(\"form\",{className:\"searchForm__form\",action:\"\",method:\"get\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{className:\"searchForm__input\",name:\"searchForm\",placeholder:\"\\u0424\\u0438\\u043B\\u044C\\u043C\",type:\"search\",onChange:handleChange,value:values.searchForm}),/*#__PURE__*/_jsx(\"button\",{className:\"searchForm__submit\",type:\"submit\",children:\"\\u041D\\u0430\\u0439\\u0442\\u0438\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"movies__switch-container\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"movies__switch\",id:\"switch\",type:\"checkbox\",checked:isShortMovies,onChange:handleCheckboxChange}),/*#__PURE__*/_jsx(\"label\",{className:\"movies__switch-active\",for:\"switch\"}),/*#__PURE__*/_jsx(\"label\",{className:\"movies__switch-lable\",children:\"\\u041A\\u043E\\u0440\\u043E\\u0442\\u043A\\u043E\\u043C\\u0435\\u0442\\u0440\\u0430\\u0436\\u043A\\u0438\"})]})]});}export default SearchForm;","map":{"version":3,"names":["React","useState","useEffect","useForm","useLocation","jsx","_jsx","jsxs","_jsxs","SearchForm","_ref","findMovie","isShortMovies","handleCheckboxChange","_useForm","searchForm","values","handleChange","setValues","location","SearchFormValueData","localStorage","getItem","pathname","handleSubmit","e","preventDefault","console","log","setItem","className","children","action","method","onSubmit","name","placeholder","type","onChange","value","id","checked","for"],"sources":["C:/Users/79267/desktop/praktikum/dev/movies-explorer-frontend-no-api/src/components/SearchForm/SearchForm.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport useForm from \"../../hooks/useForm\";\r\nimport { useLocation } from 'react-router-dom';\r\n\r\nfunction SearchForm({ findMovie, isShortMovies, handleCheckboxChange }) {\r\n\r\n    const { values, handleChange, setValues } = useForm({ searchForm: '' });\r\n    const location = useLocation();\r\n\r\n    useEffect(() => {\r\n        const SearchFormValueData = localStorage.getItem('searchFormValue');\r\n        if (SearchFormValueData && location.pathname !== '/saved-movies') {\r\n            setValues({ searchForm: SearchFormValueData });\r\n        }\r\n    }, [location]);\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        if (values.searchForm === '') {\r\n            console.log('Введите запрос');\r\n        } else {\r\n            if (location.pathname !== '/saved-movies') {\r\n                localStorage.setItem('searchFormValue', values.searchForm);\r\n            }\r\n            findMovie(values.searchForm);\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"searchForm\">\r\n            <form className=\"searchForm__form\" action=\"\" method=\"get\" onSubmit={handleSubmit}>\r\n                <input className=\"searchForm__input\" name=\"searchForm\" placeholder=\"Фильм\" type=\"search\" onChange={handleChange}\r\n                    value={values.searchForm} />\r\n                <button className=\"searchForm__submit\" type=\"submit\">Найти</button>\r\n            </form>\r\n            <div className=\"movies__switch-container\">\r\n                <input className=\"movies__switch\" id=\"switch\" type=\"checkbox\" checked={isShortMovies}\r\n                    onChange={handleCheckboxChange} />\r\n                <label className=\"movies__switch-active\" for=\"switch\"></label>\r\n                <label className=\"movies__switch-lable\">Короткометражки</label>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default SearchForm;\r\n\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,CAAAC,OAAO,KAAM,qBAAqB,CACzC,OAASC,WAAW,KAAQ,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE/C,QAAS,CAAAC,UAAUA,CAAAC,IAAA,CAAqD,IAAlD,CAAAC,SAAS,CAAAD,IAAA,CAATC,SAAS,CAAEC,aAAa,CAAAF,IAAA,CAAbE,aAAa,CAAEC,oBAAoB,CAAAH,IAAA,CAApBG,oBAAoB,CAEhE,IAAAC,QAAA,CAA4CX,OAAO,CAAC,CAAEY,UAAU,CAAE,EAAG,CAAC,CAAC,CAA/DC,MAAM,CAAAF,QAAA,CAANE,MAAM,CAAEC,YAAY,CAAAH,QAAA,CAAZG,YAAY,CAAEC,SAAS,CAAAJ,QAAA,CAATI,SAAS,CACvC,GAAM,CAAAC,QAAQ,CAAGf,WAAW,CAAC,CAAC,CAE9BF,SAAS,CAAC,UAAM,CACZ,GAAM,CAAAkB,mBAAmB,CAAGC,YAAY,CAACC,OAAO,CAAC,iBAAiB,CAAC,CACnE,GAAIF,mBAAmB,EAAID,QAAQ,CAACI,QAAQ,GAAK,eAAe,CAAE,CAC9DL,SAAS,CAAC,CAAEH,UAAU,CAAEK,mBAAoB,CAAC,CAAC,CAClD,CACJ,CAAC,CAAE,CAACD,QAAQ,CAAC,CAAC,CAEd,QAAS,CAAAK,YAAYA,CAACC,CAAC,CAAE,CACrBA,CAAC,CAACC,cAAc,CAAC,CAAC,CAClB,GAAIV,MAAM,CAACD,UAAU,GAAK,EAAE,CAAE,CAC1BY,OAAO,CAACC,GAAG,CAAC,gBAAgB,CAAC,CACjC,CAAC,IAAM,CACH,GAAIT,QAAQ,CAACI,QAAQ,GAAK,eAAe,CAAE,CACvCF,YAAY,CAACQ,OAAO,CAAC,iBAAiB,CAAEb,MAAM,CAACD,UAAU,CAAC,CAC9D,CACAJ,SAAS,CAACK,MAAM,CAACD,UAAU,CAAC,CAChC,CACJ,CAEA,mBACIP,KAAA,QAAKsB,SAAS,CAAC,YAAY,CAAAC,QAAA,eACvBvB,KAAA,SAAMsB,SAAS,CAAC,kBAAkB,CAACE,MAAM,CAAC,EAAE,CAACC,MAAM,CAAC,KAAK,CAACC,QAAQ,CAAEV,YAAa,CAAAO,QAAA,eAC7EzB,IAAA,UAAOwB,SAAS,CAAC,mBAAmB,CAACK,IAAI,CAAC,YAAY,CAACC,WAAW,CAAC,gCAAO,CAACC,IAAI,CAAC,QAAQ,CAACC,QAAQ,CAAErB,YAAa,CAC5GsB,KAAK,CAAEvB,MAAM,CAACD,UAAW,CAAE,CAAC,cAChCT,IAAA,WAAQwB,SAAS,CAAC,oBAAoB,CAACO,IAAI,CAAC,QAAQ,CAAAN,QAAA,CAAC,gCAAK,CAAQ,CAAC,EACjE,CAAC,cACPvB,KAAA,QAAKsB,SAAS,CAAC,0BAA0B,CAAAC,QAAA,eACrCzB,IAAA,UAAOwB,SAAS,CAAC,gBAAgB,CAACU,EAAE,CAAC,QAAQ,CAACH,IAAI,CAAC,UAAU,CAACI,OAAO,CAAE7B,aAAc,CACjF0B,QAAQ,CAAEzB,oBAAqB,CAAE,CAAC,cACtCP,IAAA,UAAOwB,SAAS,CAAC,uBAAuB,CAACY,GAAG,CAAC,QAAQ,CAAQ,CAAC,cAC9DpC,IAAA,UAAOwB,SAAS,CAAC,sBAAsB,CAAAC,QAAA,CAAC,4FAAe,CAAO,CAAC,EAC9D,CAAC,EACL,CAAC,CAEd,CAEA,cAAe,CAAAtB,UAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}