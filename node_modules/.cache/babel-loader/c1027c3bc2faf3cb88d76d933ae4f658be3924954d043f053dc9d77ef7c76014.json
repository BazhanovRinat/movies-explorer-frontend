{"ast":null,"code":"import React,{useState,useEffect}from'react';import{moviesApi}from\"../../utils/MoviesApi\";import SearchForm from\"../SearchForm/SearchForm\";import MoviesCardList from\"../MoviesCardList/MoviesCardList\";import{mainApi}from\"../../utils/MainApi\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Movies(_ref){let{openPopupError,handleUpdateUsersMovies}=_ref;const[renderMovies,setRenderMovies]=useState([]);const[allMovies,setAllMovies]=useState([]);const[shortMovies,setShortMovies]=useState([]);const[maxVisibleMovies,setMaxVisibleMovies]=useState(()=>{if(window.innerWidth<=749){return 5;}else if(window.innerWidth<=1024){return 8;}else if(window.innerWidth<=1149){return 15;}else{return 16;}});const[savedMovies,setSavedMovies]=useState([]);const[screenWidth,setScreenWidth]=useState(window.innerWidth);const[isLoading,setIsLoading]=useState(false);const[searched,setSearched]=useState(false);const[isShortMovies,setIsShortMovies]=useState(localStorage.getItem('isShortMovies'))||false;const defaultMaxVisibleMovies=(()=>{if(window.innerWidth<=749){return 5;}else if(window.innerWidth<=1024){return 8;}else if(window.innerWidth<=1149){return 15;}else{return 16;}})();useEffect(()=>{function handleResize(){setScreenWidth(window.innerWidth);}window.addEventListener('resize',handleResize);return()=>{window.removeEventListener('resize',handleResize);};},[]);useEffect(()=>{const storedValue=localStorage.getItem('isShortMovies');if(storedValue==='true'){setIsShortMovies(true);}else{setIsShortMovies(false);}},[]);useEffect(()=>{if(isShortMovies!==null){localStorage.setItem('isShortMovies',isShortMovies.toString());}},[isShortMovies]);useEffect(()=>{const storedMovies=JSON.parse(localStorage.getItem('allMovies'));if(storedMovies){setSearched(true);setAllMovies(storedMovies);if(isShortMovies){const shortMovies=storedMovies.filter(_ref2=>{let{duration}=_ref2;return duration<=40;});setShortMovies(shortMovies);setRenderMovies(shortMovies);}else{setShortMovies([]);setRenderMovies(storedMovies);}}},[isShortMovies]);// useEffect(() => {\n//     mainApi.getMovies()\n//         .then((data) => {\n//             setSavedMovies(data);\n//         })\n//         .catch((err) => {\n//             console.log(err);\n//             openPopupError(true);\n//         });\n// }, [isShortMovies]);\nfunction findMovie(filter){setIsLoading(true);setMaxVisibleMovies(defaultMaxVisibleMovies);moviesApi.getMovies().then(data=>{let filteredMovies=data.filter(_ref3=>{let{nameRU}=_ref3;return nameRU.toLowerCase().includes(filter.toLowerCase());});setAllMovies(filteredMovies);setShortMovies(filteredMovies.filter(_ref4=>{let{duration}=_ref4;return duration<=40;}));localStorage.setItem('allMovies',JSON.stringify(filteredMovies));if(isShortMovies===true){setRenderMovies(allMovies);}else{setRenderMovies(shortMovies);}setSearched(true);}).catch(error=>{console.log(\"\".concat(error));openPopupError(true);}).finally(()=>{setIsLoading(false);});}function handleCheckboxChange(){setIsShortMovies(!isShortMovies);if(isShortMovies===true){setRenderMovies(allMovies);}else{setRenderMovies(shortMovies);}}function loadMoreMovies(){let cardsToAdd=4;if(screenWidth<=1150){cardsToAdd=3;}if(screenWidth<=1025){cardsToAdd=2;}const newMaxVisibleMovies=maxVisibleMovies+cardsToAdd;if(isShortMovies){if(newMaxVisibleMovies>=shortMovies.length){setMaxVisibleMovies(shortMovies.length);}else{setMaxVisibleMovies(newMaxVisibleMovies);}}else{if(newMaxVisibleMovies>=allMovies.length){setMaxVisibleMovies(allMovies.length);}else{setMaxVisibleMovies(newMaxVisibleMovies);}}}function updateVisibleMovies(){if(!isShortMovies){const moviesToShow=allMovies.slice(0,maxVisibleMovies);return moviesToShow;}else{const moviesToShow=shortMovies.slice(0,maxVisibleMovies);return moviesToShow;}}useEffect(()=>{if(searched){const updatedRenderMovies=updateVisibleMovies();setRenderMovies(updatedRenderMovies);}},[maxVisibleMovies,searched,isShortMovies,allMovies,shortMovies]);return/*#__PURE__*/_jsxs(\"main\",{className:\"movies\",children:[/*#__PURE__*/_jsx(SearchForm,{findMovie:findMovie,handleCheckboxChange:handleCheckboxChange,isShortMovies:isShortMovies}),isLoading?/*#__PURE__*/_jsx(\"div\",{className:\"preloader\",children:/*#__PURE__*/_jsx(\"span\",{className:\"loader\"})}):/*#__PURE__*/_jsx(_Fragment,{children:searched&&renderMovies.length===0?/*#__PURE__*/_jsx(\"p\",{children:\"\\u041D\\u0438\\u0447\\u0435\\u0433\\u043E \\u043D\\u0435 \\u043D\\u0430\\u0439\\u0434\\u0435\\u043D\\u043E\"}):/*#__PURE__*/_jsxs(_Fragment,{children:[searched&&/*#__PURE__*/_jsx(MoviesCardList,{movies:renderMovies,savedMovies:savedMovies,openPopupError:openPopupError,handleUpdateUsersMovies:handleUpdateUsersMovies}),/*#__PURE__*/_jsx(\"button\",{className:\"movies__moreMovies-btn\",onClick:loadMoreMovies,style:{display:maxVisibleMovies<(isShortMovies?shortMovies.length:allMovies.length)?'block':'none'},children:\"\\u0415\\u0449\\u0435\"})]})})]});}export default Movies;","map":{"version":3,"names":["React","useState","useEffect","moviesApi","SearchForm","MoviesCardList","mainApi","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","Movies","_ref","openPopupError","handleUpdateUsersMovies","renderMovies","setRenderMovies","allMovies","setAllMovies","shortMovies","setShortMovies","maxVisibleMovies","setMaxVisibleMovies","window","innerWidth","savedMovies","setSavedMovies","screenWidth","setScreenWidth","isLoading","setIsLoading","searched","setSearched","isShortMovies","setIsShortMovies","localStorage","getItem","defaultMaxVisibleMovies","handleResize","addEventListener","removeEventListener","storedValue","setItem","toString","storedMovies","JSON","parse","filter","_ref2","duration","findMovie","getMovies","then","data","filteredMovies","_ref3","nameRU","toLowerCase","includes","_ref4","stringify","catch","error","console","log","concat","finally","handleCheckboxChange","loadMoreMovies","cardsToAdd","newMaxVisibleMovies","length","updateVisibleMovies","moviesToShow","slice","updatedRenderMovies","className","children","movies","onClick","style","display"],"sources":["C:/Users/79267/desktop/praktikum/dev/movies-explorer-frontend-no-api/src/components/Movies/Movies.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { moviesApi } from \"../../utils/MoviesApi\";\r\nimport SearchForm from \"../SearchForm/SearchForm\";\r\nimport MoviesCardList from \"../MoviesCardList/MoviesCardList\";\r\nimport { mainApi } from \"../../utils/MainApi\";\r\n\r\nfunction Movies({ openPopupError, handleUpdateUsersMovies }) {\r\n\r\n    const [renderMovies, setRenderMovies] = useState([]);\r\n    const [allMovies, setAllMovies] = useState([]);\r\n    const [shortMovies, setShortMovies] = useState([]);\r\n    const [maxVisibleMovies, setMaxVisibleMovies] = useState(() => {\r\n        if (window.innerWidth <= 749) {\r\n            return 5;\r\n        } else if (window.innerWidth <= 1024) {\r\n            return 8;\r\n        } else if (window.innerWidth <= 1149) {\r\n            return 15;\r\n        } else {\r\n            return 16;\r\n        }\r\n    });\r\n    const [savedMovies, setSavedMovies] = useState([])\r\n    const [screenWidth, setScreenWidth] = useState(window.innerWidth);\r\n    const [isLoading, setIsLoading] = useState(false);\r\n\r\n    const [searched, setSearched] = useState(false);\r\n\r\n    const [isShortMovies, setIsShortMovies] = useState(localStorage.getItem('isShortMovies')) || false\r\n\r\n    const defaultMaxVisibleMovies = (() => {\r\n        if (window.innerWidth <= 749) {\r\n            return 5;\r\n        } else if (window.innerWidth <= 1024) {\r\n            return 8;\r\n        } else if (window.innerWidth <= 1149) {\r\n            return 15;\r\n        } else {\r\n            return 16;\r\n        }\r\n    })();\r\n\r\n    useEffect(() => {\r\n        function handleResize() {\r\n            setScreenWidth(window.innerWidth);\r\n        }\r\n\r\n        window.addEventListener('resize', handleResize);\r\n\r\n        return () => {\r\n            window.removeEventListener('resize', handleResize);\r\n        };\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        const storedValue = localStorage.getItem('isShortMovies');\r\n        if (storedValue === 'true') {\r\n            setIsShortMovies(true);\r\n        } else {\r\n            setIsShortMovies(false);\r\n        }\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        if (isShortMovies !== null) {\r\n            localStorage.setItem('isShortMovies', isShortMovies.toString());\r\n        }\r\n    }, [isShortMovies]);\r\n\r\n    useEffect(() => {\r\n        const storedMovies = JSON.parse(localStorage.getItem('allMovies'));\r\n        if (storedMovies) {\r\n            setSearched(true);\r\n            setAllMovies(storedMovies);\r\n\r\n            if (isShortMovies) {\r\n                const shortMovies = storedMovies.filter(({ duration }) => duration <= 40);\r\n                setShortMovies(shortMovies);\r\n                setRenderMovies(shortMovies);\r\n            } else {\r\n                setShortMovies([]);\r\n                setRenderMovies(storedMovies);\r\n            }\r\n        }\r\n    }, [isShortMovies]);\r\n\r\n    // useEffect(() => {\r\n    //     mainApi.getMovies()\r\n    //         .then((data) => {\r\n    //             setSavedMovies(data);\r\n    //         })\r\n    //         .catch((err) => {\r\n    //             console.log(err);\r\n    //             openPopupError(true);\r\n    //         });\r\n    // }, [isShortMovies]);\r\n\r\n    function findMovie(filter) {\r\n        setIsLoading(true);\r\n        setMaxVisibleMovies(defaultMaxVisibleMovies);\r\n        moviesApi.getMovies()\r\n            .then((data) => {\r\n                let filteredMovies = data.filter(({ nameRU }) => nameRU.toLowerCase().includes(filter.toLowerCase()));\r\n                setAllMovies(filteredMovies);\r\n                setShortMovies(filteredMovies.filter(({ duration }) => duration <= 40))\r\n                localStorage.setItem('allMovies', JSON.stringify(filteredMovies));\r\n\r\n                if (isShortMovies === true) {\r\n                    setRenderMovies(allMovies)\r\n                } else {\r\n                    setRenderMovies(shortMovies)\r\n                }\r\n\r\n                setSearched(true);\r\n            })\r\n            .catch((error) => {\r\n                console.log(`${error}`);\r\n                openPopupError(true)\r\n            })\r\n            .finally(() => {\r\n                setIsLoading(false);\r\n            })\r\n    }\r\n\r\n    function handleCheckboxChange() {\r\n        setIsShortMovies(!isShortMovies);\r\n        if (isShortMovies === true) {\r\n            setRenderMovies(allMovies)\r\n        } else {\r\n            setRenderMovies(shortMovies)\r\n        }\r\n    }\r\n\r\n    function loadMoreMovies() {\r\n        let cardsToAdd = 4;\r\n        if (screenWidth <= 1150) {\r\n            cardsToAdd = 3;\r\n        }\r\n        if (screenWidth <= 1025) {\r\n            cardsToAdd = 2;\r\n        }\r\n\r\n        const newMaxVisibleMovies = maxVisibleMovies + cardsToAdd;\r\n\r\n        if (isShortMovies) {\r\n            if (newMaxVisibleMovies >= shortMovies.length) {\r\n                setMaxVisibleMovies(shortMovies.length);\r\n            } else {\r\n                setMaxVisibleMovies(newMaxVisibleMovies);\r\n            }\r\n        } else {\r\n            if (newMaxVisibleMovies >= allMovies.length) {\r\n                setMaxVisibleMovies(allMovies.length);\r\n            } else {\r\n                setMaxVisibleMovies(newMaxVisibleMovies);\r\n            }\r\n        }\r\n    }\r\n\r\n    function updateVisibleMovies() {\r\n        if (!isShortMovies) {\r\n            const moviesToShow = allMovies.slice(0, maxVisibleMovies);\r\n            return moviesToShow;\r\n        } else {\r\n            const moviesToShow = shortMovies.slice(0, maxVisibleMovies);\r\n            return moviesToShow;\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (searched) {\r\n            const updatedRenderMovies = updateVisibleMovies();\r\n            setRenderMovies(updatedRenderMovies);\r\n        }\r\n    }, [maxVisibleMovies, searched, isShortMovies, allMovies, shortMovies]);\r\n\r\n    return (\r\n        <main className=\"movies\">\r\n            <SearchForm findMovie={findMovie} handleCheckboxChange={handleCheckboxChange} isShortMovies={isShortMovies} />\r\n            {isLoading ? (\r\n                <div className=\"preloader\">\r\n                    <span className=\"loader\"></span>\r\n                </div>\r\n            ) : (\r\n                <>\r\n                    {searched && renderMovies.length === 0 ? (\r\n                        <p>Ничего не найдено</p>\r\n                    ) : (\r\n                        <>\r\n                            {searched && <MoviesCardList movies={renderMovies} savedMovies={savedMovies} openPopupError={openPopupError}\r\n                                handleUpdateUsersMovies={handleUpdateUsersMovies} />}\r\n                            <button\r\n                                className=\"movies__moreMovies-btn\"\r\n                                onClick={loadMoreMovies}\r\n                                style={{ display: maxVisibleMovies < (isShortMovies ? shortMovies.length : allMovies.length) ? 'block' : 'none' }}\r\n                            >\r\n                                Еще\r\n                            </button>\r\n                        </>\r\n                    )}\r\n                </>\r\n            )}\r\n        </main>\r\n    );\r\n}\r\n\r\nexport default Movies;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}