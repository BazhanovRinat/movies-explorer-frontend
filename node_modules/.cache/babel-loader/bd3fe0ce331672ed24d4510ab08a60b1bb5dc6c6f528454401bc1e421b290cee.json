{"ast":null,"code":"import _slicedToArray from\"C:/Users/79267/Desktop/praktikum/dev/movies-explorer-frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import NavBar from'../NavBar/NavBar';import useForm from\"../../hooks/useForm\";import{CurrentUserContext}from\"../../contexts/CurrentUserContext\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";function Profile(props){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),profileChange=_useState2[0],setProfileChange=_useState2[1];var profileData=React.useContext(CurrentUserContext);var _useForm=useForm({}),values=_useForm.values,handleChange=_useForm.handleChange,setValues=_useForm.setValues;function changeProfile(){setProfileChange(true);setValues({name:profileData.name,email:profileData.email});}function handleSubmit(e){e.preventDefault();props.onUpdateUser({name:values.name,email:values.email});setProfileChange(false);props.openPopupCorrect();}return/*#__PURE__*/_jsxs(\"main\",{className:\"profile\",children:[/*#__PURE__*/_jsxs(\"h1\",{className:\"profile__title\",children:[\"\\u041F\\u0440\\u0438\\u0432\\u0435\\u0442, \",profileData.name||'Виталий',\"!\"]}),/*#__PURE__*/_jsxs(\"form\",{className:profileChange?\"profile__form profile__form_margin\":\"profile__form\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"profile__info\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"profile__info-type\",children:\"\\u0418\\u043C\\u044F\"}),profileChange?/*#__PURE__*/_jsx(\"input\",{onChange:handleChange,name:\"name\",maxLength:30,minLength:2,required:true,className:\"profile__info-item profile__info-name profile__input\",placeholder:\"Имя\",value:values.name||\"\"}):/*#__PURE__*/_jsx(\"p\",{className:\"profile__info-item profile__info-name\",children:profileData.name||'Виталий'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"profile__info\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"profile__info-type\",children:\"E-mail\"}),profileChange?/*#__PURE__*/_jsx(\"input\",{onChange:handleChange,value:values.email||\"\",name:\"email\",maxLength:30,minLength:2,required:true,className:\"profile__info-item profile__info-name profile__input\",placeholder:\"E-mail\"}):/*#__PURE__*/_jsx(\"p\",{className:\"profile__info-item profile__info-email\",children:profileData.email||\"pochta@yandex.ru\"})]}),profileChange?/*#__PURE__*/_jsx(\"button\",{className:\"profile__form-submit\",disabled:!profileChange||values.name===profileData.name&&values.email===profileData.email,children:\"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\"}):\"\"]}),profileChange?\"\":/*#__PURE__*/_jsxs(\"div\",{className:\"profile__under-submit-container\",children:[profileChange?\"\":/*#__PURE__*/_jsx(\"button\",{className:\"profile__button\",onClick:changeProfile,children:\"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C\"}),/*#__PURE__*/_jsx(NavBar,{name:\"Выйти из аккаунта\",path:\"\",className:\"profile__link\",signOut:props.signOut})]})]});}export default Profile;","map":{"version":3,"names":["React","useState","NavBar","useForm","CurrentUserContext","jsxs","_jsxs","jsx","_jsx","Profile","props","_useState","_useState2","_slicedToArray","profileChange","setProfileChange","profileData","useContext","_useForm","values","handleChange","setValues","changeProfile","name","email","handleSubmit","e","preventDefault","onUpdateUser","openPopupCorrect","className","children","onSubmit","onChange","maxLength","minLength","required","placeholder","value","disabled","onClick","path","signOut"],"sources":["C:/Users/79267/Desktop/praktikum/dev/movies-explorer-frontend/src/components/Profile/Profile.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport NavBar from '../NavBar/NavBar';\r\nimport useForm from \"../../hooks/useForm\";\r\nimport { CurrentUserContext } from \"../../contexts/CurrentUserContext\";\r\n\r\nfunction Profile(props) {\r\n\r\n    const [profileChange, setProfileChange] = useState(false)\r\n\r\n    const profileData = React.useContext(CurrentUserContext)\r\n\r\n    const { values, handleChange, setValues } = useForm({});\r\n\r\n    function changeProfile() {\r\n        setProfileChange(true)\r\n        setValues({ name: profileData.name, email: profileData.email });\r\n    }\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        props.onUpdateUser({\r\n          name: values.name,\r\n          email: values.email,\r\n        });\r\n        setProfileChange(false);\r\n        props.openPopupCorrect(); \r\n      }\r\n\r\n    return (\r\n        <main className=\"profile\">\r\n            <h1 className=\"profile__title\">Привет, {profileData.name || 'Виталий'}!</h1>\r\n            <form className={profileChange ? \"profile__form profile__form_margin\" : \"profile__form\"} onSubmit={handleSubmit}>\r\n                <div className=\"profile__info\">\r\n                    <h2 className=\"profile__info-type\">Имя</h2>\r\n                    {profileChange ? <input onChange={handleChange} name=\"name\" maxLength={30} minLength={2} required\r\n                        className=\"profile__info-item profile__info-name profile__input\"\r\n                        placeholder={\"Имя\"} value={values.name || \"\"}>\r\n                    </input>\r\n                        : <p className=\"profile__info-item profile__info-name\">{profileData.name || 'Виталий'}</p>}\r\n                </div>\r\n                <div className=\"profile__info\">\r\n                    <h3 className=\"profile__info-type\">E-mail</h3>\r\n                    {profileChange ? <input onChange={handleChange} value={values.email || \"\"}\r\n                        name=\"email\" maxLength={30} minLength={2} required\r\n                        className=\"profile__info-item profile__info-name profile__input\" placeholder={\"E-mail\"}></input>\r\n                        : <p className=\"profile__info-item profile__info-email\">{profileData.email || \"pochta@yandex.ru\"}</p>}\r\n                </div>\r\n                {profileChange ? <button className=\"profile__form-submit\"\r\n                    disabled={!profileChange || (values.name === profileData.name && values.email === profileData.email)}>Сохранить</button> : \"\"}\r\n            </form>\r\n            {profileChange ? \"\" : <div className=\"profile__under-submit-container\">\r\n                {profileChange ? \"\" : <button className=\"profile__button\" onClick={changeProfile}>Редактировать</button>}\r\n                <NavBar name={\"Выйти из аккаунта\"} path={\"\"} className={\"profile__link\"} signOut={props.signOut} />\r\n            </div>}\r\n        </main>\r\n    );\r\n}\r\n\r\nexport default Profile;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}